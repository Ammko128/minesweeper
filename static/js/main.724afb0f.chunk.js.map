{"version":3,"sources":["MinesweeperBoard.js","App.js","serviceWorker.js","index.js"],"names":["MinesweeperBoard","state","buttons","fields","marked","time","elements","document","getElementsByClassName","classList","remove","i","this","props","sizeY","j","sizeX","className","onContextMenu","e","preventDefault","onMouseDown","handleMouseDown","onMouseMove","handleMouseMove","onMouseUp","handleMouseUp","id","key","setState","bombFields","x","y","bombs","bombPlaced","getRandomInt","length","k","interval","setInterval","max","Math","floor","random","getElementById","add","clearInterval","gameOver","message","win","parseInt","element","contains","split","revealNeighbors","prevProps","restart","renderButtons","setFields","restartClasses","onRestart","bind","clickedField","target","mouseClicked","button","handleLeftClick","handleRightClick","handleCompletion","notABomb","style","paddingBottom","width","height","fontSize","lineHeight","display","React","Component","App","xElement","yElement","value","min","ceil","bombsElement","newGame","handleRestart","htmlFor","step","defaultValue","type","onClick","window","location","href","top","marginBottom","marginTop","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.724afb0f.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\nclass MinesweeperBoard extends React.Component {\n\n  state={\n    buttons:[],\n    fields:[],\n    marked:0,\n    time:0\n  }\n\n  restartClasses(){\n    var elements=document.getElementsByClassName(\"marked\");\n    while(elements[0]){\n      elements[0].classList.remove(\"marked\");\n    }\n    elements=document.getElementsByClassName(\"revealed\");\n    while(elements[0]){\n      elements[0].classList.remove(\"revealed\");\n    }\n    elements=document.getElementsByClassName(\"revealed-bomb\");\n    while(elements[0]){\n      elements[0].classList.remove(\"revealed-bomb\");\n    }\n    elements=document.getElementsByClassName(\"clicked-bomb\");\n    while(elements[0]){\n      elements[0].classList.remove(\"clicked-bomb\");\n    }\n    for(var i=0; i<9; i++){\n      elements=document.getElementsByClassName(\"bombs\"+i);\n      while(elements[0]){\n        elements[0].classList.remove(\"bombs\"+i);\n      }\n    }\n  }\n\n  renderButtons(){\n    var buttons=[]\n    for(var i=0; i<this.props.sizeY; i++){\n      buttons[i]=[];\n      for(var j=0; j<this.props.sizeX; j++){\n        buttons[i][j] = <div className=\"field\" onContextMenu={(e) => e.preventDefault()} onMouseDown={this.handleMouseDown} onMouseMove={this.handleMouseMove} onMouseUp={this.handleMouseUp} id={i+\"-\"+j} key={i+\"-\"+j}></div>;\n      }\n    }\n    this.setState({buttons:buttons});\n  }\n\n  setFields(){\n    var fields=[];\n    var bombFields=[];\n    var x=0;\n    var y=0;\n    for(var i=0; i<this.props.bombs; i++){\n      var bombPlaced=false;\n      while(!bombPlaced){\n        bombPlaced=true;\n        x=this.getRandomInt(this.props.sizeX);\n        y=this.getRandomInt(this.props.sizeY);\n        for(var j=0; j<bombFields.length; j++){\n          if(bombFields[j][0]===x && bombFields[j][1]===y || (x===0 && (y===0 || y===this.props.sizeY-1)) || (x===this.props.sizeX-1 && (y===0 || y===this.props.sizeY-1))){\n            bombPlaced=false;\n            break;\n          }\n        }\n      }\n        bombFields[i]=[x,y];\n    }\n    for(i=0; i<this.props.sizeX; i++){\n      fields[i]=[];\n      for(j=0; j<this.props.sizeY; j++){\n        fields[i][j]=0;\n        for(var k=0; k<bombFields.length; k++){\n          if(i-bombFields[k][0]<=1 && i-bombFields[k][0]>=-1 && j-bombFields[k][1]<=1 && j-bombFields[k][1]>=-1) fields[i][j]+=1;\n          if(i===bombFields[k][0] && j===bombFields[k][1]){\n            fields[i][j] = \"X\";\n            break;\n          }\n        }\n      }\n    }\n    this.setState({fields:fields});\n    //console.log(fields[0].map((_, colIndex) => fields.map(row => row[colIndex])));\n\n    var time=0;\n    this.setState({interval: setInterval(()=>{\n      time+=1;\n      this.setState({time:time});\n    }, 1000)});\n\n    return fields;\n  }\n\n  getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n  }\n\n  gameOver(){\n    for(var i=0; i<this.state.fields.length; i++){\n      for(var j=0; j<this.state.fields[i].length; j++){\n        if(this.state.fields[i][j]===\"X\"){\n          document.getElementById(j+\"-\"+i).classList.add(\"revealed-bomb\");\n        }\n      }\n    }\n    clearInterval(this.state.interval);\n    this.setState({gameOver: true, message:\"You clicked on a bomb! Be more careful next time.\", win:false});\n    this.props.gameOver(false, \"You clicked on a bomb! Be more careful next time.\");\n  }\n\n  revealNeighbors(x,y, fields){\n    for(var i=x-1; i<parseInt(x)+2; i++){\n      for(var j=y-1; j<parseInt(y)+2; j++){\n        var element = document.getElementById(j+\"-\"+i);\n        if(element){\n          if(element.classList.contains(\"revealed\")) continue;\n          if(element.classList.contains(\"marked\")) {element.classList.remove(\"marked\"); var marked=this.state.marked-1; this.setState({marked:marked});}\n          element.classList.add(\"bombs\"+fields[element.id.split(\"-\")[1]][element.id.split(\"-\")[0]]);\n          element.classList.add(\"revealed\");\n          if(fields[i][j]===0) this.revealNeighbors(i,j, fields);\n        }\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.restart !== this.props.restart) {\n      if(this.props.restart){\n        clearInterval(this.state.interval);\n        this.setState({time:0});\n        this.renderButtons();\n        this.setFields();\n        this.restartClasses();\n        this.setState({gameOver:false, marked:0});\n        this.props.onRestart();\n      }\n    }\n  }\n\n  handleCompletion(){\n    clearInterval(this.state.interval);\n    var time=this.state.time;\n    this.setState({gameOver:true, message: \"Congratulations! Completion time: \"+time+\" sec\", win:true});\n    this.props.gameOver(true, \"Congratulations! Completion time: \"+time+\" sec\");\n  }\n\n  componentDidMount(){\n    this.handleMouseDown=this.handleMouseDown.bind(this);\n    this.handleMouseUp=this.handleMouseUp.bind(this);\n    this.handleMouseMove=this.handleMouseMove.bind(this);\n\n    this.renderButtons();\n    this.setFields();\n  }\n\n  handleMouseDown(e){\n    e.preventDefault();\n    if(this.state.gameOver){\n      return;\n    }\n    this.setState({clickedField:e.target.id, mouseClicked:true});\n  }\n\n  handleMouseMove(e){\n    if(!this.state.mouseClicked) return;\n    if(this.state.clickedField!==e.target.id) this.setState({clickedField:\"\"});\n  }\n\n  handleMouseUp(e){\n    e.preventDefault();\n    this.setState({mouseClicked:false});\n    if(this.state.clickedField!==e.target.id) return;\n    if(e.button===0) this.handleLeftClick(e.target);\n    else if(e.button===2) this.handleRightClick(e.target);\n    if(this.props.sizeX*this.props.sizeY-document.getElementsByClassName(\"revealed\").length===document.getElementsByClassName(\"marked\").length) this.handleCompletion();\n  }\n\n  handleLeftClick(element){\n    var fields=this.state.fields;\n    if(element.classList.contains(\"revealed\") || element.classList.contains(\"marked\")) return;\n    if(fields[element.id.split(\"-\")[1]][element.id.split(\"-\")[0]]===\"X\"){\n      if(document.getElementsByClassName(\"revealed\").length===0){\n        var notABomb=false;\n        while(!notABomb){\n          fields = this.setFields();\n          notABomb=fields[element.id.split(\"-\")[1]][element.id.split(\"-\")[0]]!==\"X\";\n        }\n      }\n      else{\n        element.classList.add(\"clicked-bomb\");\n        this.gameOver();\n        return;\n      }\n    }\n    element.classList.add(\"bombs\"+fields[element.id.split(\"-\")[1]][element.id.split(\"-\")[0]]);\n    element.classList.add(\"revealed\");\n    if(fields[element.id.split(\"-\")[1]][element.id.split(\"-\")[0]]===0) this.revealNeighbors(element.id.split(\"-\")[1], element.id.split(\"-\")[0], fields);\n  }\n\n  handleRightClick(element){\n    if(element.classList.contains(\"revealed\") || element.classList.contains(\"revealed-bomb\")) return;\n    if(element.classList.contains(\"marked\")){\n      var marked=this.state.marked-1;\n      element.classList.remove(\"marked\");\n      this.setState({marked:marked});\n    }\n    else if(document.getElementsByClassName(\"marked\").length===this.props.bombs){\n      return;\n    }\n    else{\n      marked=this.state.marked+1;\n      element.classList.add(\"marked\");\n      this.setState({marked:marked});\n    }\n  }\n\n  render(){\n    return (\n      <div className={this.state.gameOver ? \"board gameOver\" : \"board\"} onContextMenu={(e) => e.preventDefault()} style={{paddingBottom:this.props.sizeX<9 ? \"60px\" : \"35px\", width:this.props.sizeX*20+\"px\", height: this.props.sizeY*20+\"px\"}}>\n        <div className=\"marked-i icon\" style={{width:\"65px\", fontSize:\"22px\", lineHeight:\"25px\"}}>{this.props.bombs-this.state.marked < 100 ? this.props.bombs-this.state.marked < 10 ? \"00\" : \"0\" : \"\"}{this.props.bombs-this.state.marked}</div> <div className=\"time-i icon\" style={{display:\"inline-block\", width:\"65px\", fontSize:\"22px\", lineHeight:\"25px\"}}>{this.state.time < 100 ? this.state.time< 10 ? \"00\" : \"0\" : \"\"}{this.state.time<999 ? this.state.time : \"999\"}</div>\n        <br />\n        {this.state.buttons}\n      </div>\n    );\n  }\n}\n\nexport default MinesweeperBoard;\n","import React from 'react';\nimport MinesweeperBoard from \"./MinesweeperBoard.js\";\nimport './App.css';\n\nclass App extends React.Component {\n\n  state={\n    x:20,\n    y:20,\n    bombs:50,\n    gameOver:false\n  }\n\n  gameOver(win, message){\n    this.setState({gameOver:true, win:win, message:message});\n  }\n\n  newGame(){\n    var xElement=document.getElementById(\"xSize\");\n    var yElement=document.getElementById(\"ySize\");\n\n    if(parseInt(xElement.value)<parseInt(xElement.min)) xElement.value=Math.ceil(xElement.min);\n    if(parseInt(xElement.value)>parseInt(xElement.max)) xElement.value=Math.floor(xElement.max);\n\n    if(parseInt(yElement.value)<parseInt(yElement.min)) yElement.value=Math.ceil(yElement.min);\n    if(parseInt(yElement.value)>parseInt(yElement.max)) yElement.value=Math.floor(yElement.max);\n\n    var bombsElement=document.getElementById(\"bombCount\");\n    bombsElement.min=xElement.value*yElement.value/20;\n    bombsElement.max=xElement.value*yElement.value/2;\n\n    if(parseInt(bombsElement.value)<parseInt(bombsElement.min)) bombsElement.value=Math.ceil(bombsElement.min);\n    if(parseInt(bombsElement.value)>parseInt(bombsElement.max)) bombsElement.value=Math.floor(bombsElement.max);\n\n    var x=parseInt(xElement.value);\n    var y=parseInt(yElement.value);\n    var bombs=parseInt(bombsElement.value);\n\n    this.setState({x:x, y:y, bombs:bombs, restart:true, gameOver:false});\n  }\n\n  handleRestart(){\n    this.setState({restart: false});\n  }\n\n  render(){\n    this.newGame=this.newGame.bind(this);\n    this.handleRestart=this.handleRestart.bind(this);\n    this.gameOver=this.gameOver.bind(this);\n    return (\n      <div className=\"App\">\n        <MinesweeperBoard gameOver={this.gameOver} onRestart={this.handleRestart} restart={this.state.restart} sizeX={this.state.x} sizeY={this.state.y} bombs={this.state.bombs}/>\n        <div className=\"options\">\n          <label htmlFor=\"xSize\">X: </label>\n          <input min={5} max={50} step={1} defaultValue={20} id=\"xSize\" type=\"number\" />\n          <label htmlFor=\"ySize\">Y: </label>\n          <input min={5} max={30} step={1} defaultValue={20} id=\"ySize\" type=\"number\" />\n          <label htmlFor=\"bombCount\">Bombs: </label>\n          <input min={5} max={150} step={1} defaultValue={50} id=\"bombCount\" type=\"number\" />\n        </div>\n        <div className=\"newGameDiv\">\n          <button onClick={this.newGame} className=\"newGame\">New game</button>\n        </div>\n        <div className=\"homePageDiv\">\n          <button\n            className=\"homePage\"\n            onClick={() => window.location.href = 'http://ammarveljagic.me'}\n          >\n            Back to home page\n          </button>\n        </div>\n        {this.state.gameOver ? <div onContextMenu={(e) => e.preventDefault()} className={this.state.win ? \"winMessage\" : \"gameOverMessage\"} style={{top:-this.state.y*15-100+\"px\", width:this.state.x<10 ? this.state.y*30+\"px\" : this.state.x*20+\"px\", height:this.state.y*3+40+\"px\", lineHeight:this.state.y+10+\"px\", fontSize:this.state.y+10-this.state.y/6+\"px\", marginBottom:-this.state.y*15/2+30+\"px\", marginTop:\"10px\"}}>{this.state.message}<br /><p onClick={(e)=>this.setState({gameOver:false})} className=\"hide\">Hide</p></div> : \"\"}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}